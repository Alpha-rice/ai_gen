/* =========================================
   Flat, No Surface Tone + Primary/Secondary
   Mobile-first with clear Desktop override
   ========================================= */

/* Design tokens */
:root {
  /* Neutral base */
  --bg: hsl(220 15% 98%);
  --text: hsl(220 15% 14%);
  --border: hsl(220 15% 85%);

  /* Roles */
  --primary: hsl(210 90% 45%);     /* main CTA / key link */
  --secondary: hsl(270 60% 45%);   /* secondary actions / tags */

  /* Back-compat for existing selectors */
  --accent: var(--primary);

  color-scheme: light dark;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: hsl(220 15% 10%);
    --text: hsl(0 0% 98%);
    --border: hsl(220 10% 26%);
    --primary: hsl(210 100% 66%);
    --secondary: hsl(270 70% 65%);
  }
}

/* Explicit theme override */
html[data-theme="light"] {
  --bg: hsl(220 15% 98%);
  --text: hsl(220 15% 14%);
  --border: hsl(220 15% 85%);
  --primary: hsl(210 90% 45%);
  --secondary: hsl(270 60% 45%);
}

html[data-theme="dark"] {
  --bg: hsl(220 15% 10%);
  --text: hsl(0 0% 98%);
  --border: hsl(220 10% 26%);
  --primary: hsl(210 100% 66%);
  --secondary: hsl(270 70% 65%);
}

/* Base reset */
*,
*::before,
*::after { box-sizing: border-box; }

html, body { margin: 0; padding: 0; }

body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto,
               "Noto Sans JP", "Hiragino Kaku Gothic ProN",
               "Yu Gothic", "Meiryo", sans-serif;
  line-height: 1.6;
  background: var(--bg);
  color: var(--text);
  scroll-behavior: smooth;
}

/* Layout scale (compact) */
.container { width: min(72ch, 92vw); margin-inline: auto; padding: 12px; }
h1, h2, h3 { line-height: 1.2; margin: 0 0 10px; }
p { margin: 0 0 10px; }

a { color: var(--primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Accessibility */
.skip-link {
  position: absolute; left: -9999px; top: -9999px;
}
.skip-link:focus {
  left: 8px; top: 8px;
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 8px 10px;
  border-radius: 0;
}

/* Header */
.site-header {
  border-bottom: 1px solid var(--border);
  background: var(--bg); /* no surface tone */
  position: sticky; top: 0; z-index: 10;
}
.site-header .container {
  display: flex; align-items: center; gap: 12px;
}
.brand { font-weight: 700; }

/* Nav (mobile default: hidden menu) */
.nav {
  position: absolute; right: 12px; top: 56px;
  background: var(--bg); /* same as page */
  border: 1px solid var(--border);
  padding: 8px;
  min-width: 180px;
  display: none;
}
.nav ul { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: 10px; }
.nav[data-open="true"] { display: block; }

/* Header actions */
.actions { margin-left: auto; display: flex; gap: 8px; }
.icon-btn {
  font: inherit; line-height: 1;
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 6px 10px;
  border-radius: 0;
  cursor: pointer;
}
.icon-btn:focus-visible { outline: 2px solid var(--primary); }

/* Hero */
.hero { padding-block: 32px; }

/* Buttons (role-based) */
.cta {
  display: inline-block; background: var(--primary); color: white;
  padding: 8px 12px; border-radius: 0; font-weight: 600;
}
.btn-secondary {
  display: inline-block; background: var(--secondary); color: white;
  padding: 8px 12px; border-radius: 0; font-weight: 600;
}

/* Sections */
.section { padding-block: 20px; border-top: 1px solid var(--border); }

/* Grids */
.grid { display: grid; gap: 12px; }
.cards, .works { grid-template-columns: 1fr; } /* mobile default: single column */

/* Cards/Works: no surface backing */
.card, .work {
  background: transparent; /* no surface tone */
  border: 1px solid var(--border);
  border-radius: 0;
  padding: 12px;
}

/* Decorative accents */
.section h2 {
  border-left: 4px solid var(--secondary);
  padding-left: 8px;
}

/* Footer */
.site-footer {
  border-top: 1px solid var(--border);
  padding: 20px 0;
}

/* =========================
   Desktop design (>=769px)
   ========================= */
@media (min-width: 769px) {
  /* Layout breathing on desktop (still compact) */
  .container { width: min(84ch, 88vw); padding: 16px; }

  /* Header: inline nav, no overlay menu */
  .nav {
    position: static; display: block; border: none; padding: 0; min-width: 0;
  }
  .nav ul { flex-direction: row; gap: 12px; }
  #menu-toggle { display: none; }

  /* Grids: multi-column on desktop */
  .cards { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .works { grid-template-columns: repeat(3, minmax(0, 1fr)); }

  /* Sections: slightly more space */
  .section { padding-block: 24px; }

  /* Hero: slightly expanded */
  .hero { padding-block: 40px; }
}
