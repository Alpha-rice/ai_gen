/* =========================================
   Flat, No Surface Tone + Primary/Secondary
   Mobile-first with clear Desktop override
   A11y: reduced-motion, forced-colors, accent-color
   ========================================= */

/* Design tokens */
:root {
  /* Neutral base */
  --bg: hsl(220 15% 98%);
  --text: hsl(220 15% 14%);
  --border: hsl(220 15% 85%);

  /* Roles */
  --primary: hsl(210 90% 45%);     /* main CTA / key link */
  --secondary: hsl(270 60% 45%);   /* secondary actions / tags */

  /* Back-compat */
  --accent: var(--primary);

  color-scheme: light dark;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: hsl(220 15% 10%);
    --text: hsl(0 0% 98%);
    --border: hsl(220 10% 26%);
    --primary: hsl(210 100% 66%);
    --secondary: hsl(270 70% 65%);
  }
}

/* Explicit theme override */
html[data-theme="light"] {
  --bg: hsl(220 15% 98%);
  --text: hsl(220 15% 14%);
  --border: hsl(220 15% 85%);
  --primary: hsl(210 90% 45%);
  --secondary: hsl(270 60% 45%);
}
html[data-theme="dark"] {
  --bg: hsl(220 15% 10%);
  --text: hsl(0 0% 98%);
  --border: hsl(220 10% 26%);
  --primary: hsl(210 100% 66%);
  --secondary: hsl(270 70% 65%);
}

/* Base reset */
*,
*::before,
*::after { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }

body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto,
               "Noto Sans JP", "Hiragino Kaku Gothic ProN",
               "Yu Gothic", "Meiryo", sans-serif;
  line-height: 1.6;
  background: var(--bg);
  color: var(--text);
  scroll-behavior: smooth;
}

/* Typography: fluid + balanced headings */
h1 { font-size: clamp(1.75rem, 2.5vw, 2.5rem); } /* fluid sizing */
h2 { font-size: clamp(1.25rem, 1.8vw, 1.75rem); }
h1, h2 { text-wrap: balance; } /* nicer line breaks */
h1, h2, h3 { line-height: 1.2; margin: 0 0 10px; }
p { margin: 0 0 10px; }

a { color: var(--primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Accessible skip link */
.skip-link {
  position: absolute; left: -9999px; top: -9999px;
}
.skip-link:focus {
  left: 8px; top: 8px;
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 8px 10px;
  border-radius: 0;
}

/* Containers & layout scale (compact) */
.container { width: min(72ch, 92vw); margin-inline: auto; padding: 12px; }

/* Header */
.site-header {
  border-bottom: 1px solid var(--border);
  background: var(--bg); /* no surface tone */
  position: sticky; top: 0; z-index: 10;
}
.site-header .container {
  display: flex; align-items: center; gap: 12px;
}
.brand { font-weight: 700; }

/* Nav (mobile default: overlay-style) */
.nav {
  position: absolute; right: 12px; top: 56px;
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 8px;
  min-width: 180px;
  display: none;
}
.nav ul { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: 10px; }
.nav[data-open="true"] { display: block; }

/* Indicate current section */
.nav a[aria-current="page"] { text-decoration: underline; text-underline-offset: 3px; }

/* Header actions */
.actions { margin-left: auto; display: flex; gap: 8px; }
.icon-btn {
  font: inherit; line-height: 1;
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 6px 10px;
  border-radius: 0;
  cursor: pointer;
}
.icon-btn:focus-visible { outline: 2px solid var(--primary); }

/* Hero */
.hero { padding-block: 32px; }

/* Buttons */
.cta {
  display: inline-block; background: var(--primary); color: white;
  padding: 8px 12px; border-radius: 0; font-weight: 600;
}
.btn-secondary {
  display: inline-block; background: var(--secondary); color: white;
  padding: 8px 12px; border-radius: 0; font-weight: 600;
}

/* Sections */
.section { padding-block: 20px; border-top: 1px solid var(--border); }
.section h2 { border-left: 4px solid var(--secondary); padding-left: 8px; }

/* Grids */
.grid { display: grid; gap: 12px; }
.cards, .works { grid-template-columns: 1fr; } /* mobile default */

/* Cards/Works: transparent, only borders */
.card, .work {
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 0;
  padding: 12px;
}

/* Media */
figure { margin: 0; }
img { max-width: 100%; height: auto; display: block; }

/* Text blocks */
blockquote { margin: 0; padding-left: 12px; border-left: 4px solid var(--secondary); }

/* Link lists */
.links { list-style: none; padding: 0; margin: 0; display: flex; gap: 12px; flex-wrap: wrap; }
.links a { padding: 2px 0; }

/* Forms */
form { display: grid; gap: 10px; margin-top: 10px; }
label { display: grid; gap: 6px; }
input[type="text"],
input[type="email"],
textarea {
  width: 100%;
  background: var(--bg);
  color: var(--text);
  border: 1px solid var(--border);
  padding: 8px 10px;
  border-radius: 0;
}
input[type="checkbox"],
input[type="radio"],
input[type="range"],
progress {
  accent-color: var(--primary); /* unify UI control accent */
}

/* Details */
details { border: 1px solid var(--border); padding: 8px 10px; }
details + details { margin-top: 8px; }
summary { cursor: pointer; }

/* Footer */
.site-footer {
  border-top: 1px solid var(--border);
  padding: 20px 0;
}

/* =========================
   Desktop design (>=769px)
   ========================= */
@media (min-width: 769px) {
  .container { width: min(84ch, 88vw); padding: 16px; }

  /* Header: inline nav, no overlay menu */
  .nav { position: static; display: block; border: none; padding: 0; min-width: 0; }
  .nav ul { flex-direction: row; gap: 12px; }
  #menu-toggle { display: none; }

  /* Grids: multi-column */
  .cards { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .works { grid-template-columns: repeat(3, minmax(0, 1fr)); }

  /* Sections spacing */
  .section { padding-block: 24px; }
  .hero { padding-block: 40px; }
}

/* =========================
   Accessibility adjustments
   ========================= */

/* Reduced motion: disable smooth scroll/animations */
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
}

/* Forced colors: ensure borders/accents visible */
@media (forced-colors: active) {
  .section h2 { border-left-color: CanvasText; }
  blockquote { border-left-color: CanvasText; }
}
